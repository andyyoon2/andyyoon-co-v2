---
import { getStaticPaths } from "../pages/[...slug].astro";

// Maybe this is silly maybe not. Probably makes more sense with content collections
const allPaths = await getStaticPaths();
const allPosts = allPaths.map((path) => ({
  href: path.params.slug,
  frontmatter: path.props.post.frontmatter,
}));

const getDatePosted = (post: any) =>
  new Date(post.frontmatter.datePosted).toLocaleDateString("en-US", {
    year: "numeric",
    month: "long",
    day: "numeric",
  });
---

{/* TODO: Make into a content collection */}
{
  allPosts.map((post: any) => (
    <article class="flex flex-col gap-2">
      <a class="underline text-lg md:text-xl" href={post.href}>
        {post.frontmatter.title}
      </a>
      <p>{getDatePosted(post)}</p>
      {/* <p>{post.frontmatter.description}</p> */}
    </article>
  ))
}
